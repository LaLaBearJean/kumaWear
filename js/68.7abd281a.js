(self["webpackChunkworks"]=self["webpackChunkworks"]||[]).push([[68],{8803:function(e,t,s){
/*!
  * Bootstrap toast.js v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(t,i){e.exports=i(s(1437),s(4130),s(1884),s(9069))})(0,(function(e,t,s,i){"use strict";const o=e=>e&&"object"===typeof e&&"default"in e?e:{default:e},n=o(t),a=o(s),r="toast",l="bs.toast",u=`.${l}`,c=`mouseover${u}`,d=`mouseout${u}`,h=`focusin${u}`,m=`focusout${u}`,_=`hide${u}`,f=`hidden${u}`,g=`show${u}`,p=`shown${u}`,b="fade",v="hide",w="show",k="showing",y={animation:"boolean",autohide:"boolean",delay:"number"},$={animation:!0,autohide:!0,delay:5e3};class L extends a.default{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return $}static get DefaultType(){return y}static get NAME(){return r}show(){const t=n.default.trigger(this._element,g);if(t.defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(b);const s=()=>{this._element.classList.remove(k),n.default.trigger(this._element,p),this._maybeScheduleHide()};this._element.classList.remove(v),e.reflow(this._element),this._element.classList.add(w,k),this._queueCallback(s,this._element,this._config.animation)}hide(){if(!this.isShown())return;const e=n.default.trigger(this._element,_);if(e.defaultPrevented)return;const t=()=>{this._element.classList.add(v),this._element.classList.remove(k,w),n.default.trigger(this._element,f)};this._element.classList.add(k),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(w),super.dispose()}isShown(){return this._element.classList.contains(w)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t;break}if(t)return void this._clearTimeout();const s=e.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){n.default.on(this._element,c,(e=>this._onInteraction(e,!0))),n.default.on(this._element,d,(e=>this._onInteraction(e,!1))),n.default.on(this._element,h,(e=>this._onInteraction(e,!0))),n.default.on(this._element,m,(e=>this._onInteraction(e,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each((function(){const t=L.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}return i.enableDismissTrigger(L),e.defineJQueryPlugin(L),L}))},5713:function(e,t,s){"use strict";s.d(t,{Z:function(){return k}});var i=s(3396);const o={class:"toast-container position-absolute pe-3 top-0 end-0"};function n(e,t,s,n,a,r){const l=(0,i.up)("Toast");return(0,i.wg)(),(0,i.iD)("div",o,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.messages,((e,t)=>((0,i.wg)(),(0,i.j4)(l,{key:t,msg:e},null,8,["msg"])))),128))])}s(7658);var a=s(7139);const r={class:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true",ref:"toast"},l={class:"toast-header"},u={class:"me-auto"},c=(0,i._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"},null,-1),d={key:0,class:"toast-body"};function h(e,t,s,o,n,h){return(0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("div",l,[(0,i._)("span",{class:(0,a.C_)([`bg-${s.msg.style}`,"p-2 rounded me-2 d-inline-block"])},null,2),(0,i._)("strong",u,(0,a.zw)(s.msg.title),1),c]),s.msg.content?((0,i.wg)(),(0,i.iD)("div",d,(0,a.zw)(s.msg.content),1)):(0,i.kq)("",!0)],512)}var m=s(8803),_=s.n(m),f={props:["msg"],mounted(){const e=this.$refs.toast,t=new(_())(e,{delay:6e3});t.show()}},g=s(89);const p=(0,g.Z)(f,[["render",h]]);var b=p,v={data(){return{messages:[]}},components:{Toast:b},inject:["emitter"],mounted(){this.emitter.on("push-message",(e=>{const{style:t="success",title:s,content:i}=e;this.messages.push({style:t,title:s,content:i})}))}};const w=(0,g.Z)(v,[["render",n]]);var k=w},68:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Z}});var i=s(3396);const o={class:"p-4 position-relative"};function n(e,t,s,n,a,r){const l=(0,i.up)("ToastMessages"),u=(0,i.up)("router-view"),c=(0,i.up)("SideBar");return(0,i.wg)(),(0,i.j4)(c,null,{default:(0,i.w5)((()=>[(0,i._)("div",o,[(0,i.Wm)(l),(0,i.Wm)(u)])])),_:1})}s(7658);var a=s(5820),r=s(9242);const l={class:"d-flex",ref:"sidebarDom"},u={class:"sidebar vh-100 border-end d-flex flex-column"},c=(0,i._)("div",{class:"px-4 py-3 fs-5"},[(0,i._)("strong",null,"KumaWear"),(0,i.Uk)(" - 管理後台 ")],-1),d={class:"list-unstyled overflow-auto mb-0"},h=(0,i._)("i",{class:"bi bi-house pe-2"},null,-1),m=(0,i._)("i",{class:"bi bi-person-fill pe-2"},null,-1),_=(0,i._)("i",{class:"bi bi-c-square pe-2"},null,-1),f=(0,i._)("i",{class:"bi bi-box-arrow-right pe-2"},null,-1),g={class:"main"},p={class:"border-bottom sticky-top"},b=(0,i._)("i",{class:"bi bi-arrows-angle-expand"},null,-1),v=[b];function w(e,t,s,o,n,a){const b=(0,i.up)("LoadingOverlay"),w=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(b,{active:n.isLoading},null,8,["active"]),(0,i._)("div",l,[(0,i._)("aside",u,[c,(0,i._)("ul",d,[(0,i._)("li",null,[(0,i.Wm)(w,{class:"sidebar-link px-4",to:"/dashboard/products"},{default:(0,i.w5)((()=>[h,(0,i.Uk)("產品管理")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(w,{class:"sidebar-link px-4",to:"/dashboard/orders"},{default:(0,i.w5)((()=>[m,(0,i.Uk)("訂單管理")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(w,{class:"sidebar-link px-4",to:"/dashboard/coupons"},{default:(0,i.w5)((()=>[_,(0,i.Uk)("優惠券")])),_:1})])]),(0,i._)("a",{href:"#",class:"px-4 mt-auto border-top sidebar-link",onClick:t[0]||(t[0]=(0,r.iM)(((...e)=>a.logout&&a.logout(...e)),["prevent"]))},[f,(0,i.Uk)("登出")])]),(0,i._)("main",g,[(0,i._)("div",p,[(0,i._)("a",{href:"#",class:"py-3 px-4 d-inline-block border-end",ref:"sidebarBtn",onClick:t[1]||(t[1]=(0,r.iM)(((...e)=>a.sidebarToggle&&a.sidebarToggle(...e)),["prevent"]))},v,512)]),(0,i.WI)(e.$slots,"default")])],512)],64)}var k=s(7587),y={data(){return{isLoading:!1}},watch:{$route(){document.body.offsetWidth<992&&this.$refs.sidebarBtn.click()}},methods:{sidebarToggle(){this.$refs.sidebarDom.classList.toggle("sidebar-toggled")},logout(){const e="https://vue3-course-api.hexschool.io/logout";this.isLoading=!0,this.$http.post(e).then((e=>{e.data.success&&this.$router.push("/login"),this.isLoading=!1})).catch((e=>{(0,k.Z)(e,"連線"),this.isLoading=!1}))}}},$=s(89);const L=(0,$.Z)(y,[["render",w]]);var T=L,x=s(5713),I={components:{SideBar:T,ToastMessages:x.Z},provide(){return{emitter:a.Z,$httpMessageState:k.Z}},created(){const e=document.cookie.replace(/(?:(?:^|.*;\s*)kumaToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=e;const t="https://vue3-course-api.hexschool.io/api/user/check";this.$http.post(t).then((e=>{e.data.success?(0,k.Z)(e,"登入"):this.$router.push("/login")}))}};const D=(0,$.Z)(I,[["render",n]]);var Z=D}}]);
//# sourceMappingURL=68.7abd281a.js.map