"use strict";(self["webpackChunkworks"]=self["webpackChunkworks"]||[]).push([[155],{155:function(t,i,s){s.r(i),s.d(i,{default:function(){return I}});var e=s(3396),l=s(9242),c=s(7139);const r={key:0},n={class:"d-none d-md-block"},a={class:"table"},o=(0,e._)("thead",null,[(0,e._)("tr",null,[(0,e._)("th",{scope:"col"},"品名"),(0,e._)("th",{scope:"col"},"單價"),(0,e._)("th",{scope:"col"}),(0,e._)("th",{scope:"col"})])],-1),h=["onClick"],d=["src","alt"],u={class:"text-secondary"},p=["onClick"],g=["onClick"],_=(0,e._)("i",{class:"bi bi-trash fs-5"},null,-1),w=[_],k={class:"d-md-none"},v={class:"col"},b=["onClick"],f=["src","alt"],m={class:"col"},y={class:"mb-2"},C={class:"text-secondary"},$={class:"col-2"},D=["onClick"],M=(0,e._)("i",{class:"bi bi-cart3 pe-1 fs-4"},null,-1),S=[M],z={class:"col-2"},L=["onClick"],N=(0,e._)("i",{class:"bi bi-trash fs-4"},null,-1),W=[N],T={key:1,class:"text-center"},x=(0,e._)("h4",{class:"mb-5"},"目前沒有追蹤商品",-1);function j(t,i,s,_,M,N){return 0!==M.wishlist.length?((0,e.wg)(),(0,e.iD)("div",r,[(0,e._)("div",n,[(0,e._)("table",a,[o,(0,e._)("tbody",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(M.wishlist,((i,s)=>((0,e.wg)(),(0,e.iD)("tr",{key:i.id,class:"align-middle"},[(0,e._)("td",null,[(0,e._)("a",{href:"#",onClick:(0,l.iM)((t=>N.getProduct(i.id)),["prevent"])},[(0,e._)("img",{src:i.imageUrl,alt:i.title,class:"object-fit-cover",width:"100",height:"80"},null,8,d)],8,h),(0,e.Uk)(" "+(0,c.zw)(i.title),1)]),(0,e._)("td",null,[(0,e._)("del",u,"NT$"+(0,c.zw)(t.$filters.currency(i.origin_price)),1),(0,e._)("div",null,"NT$"+(0,c.zw)(t.$filters.currency(i.price)),1)]),(0,e._)("td",null,[(0,e._)("a",{href:"#",class:"btn btn-outline-danger",onClick:(0,l.iM)((t=>N.addCart(i,s)),["prevent"])},"加到購物車",8,p)]),(0,e._)("td",null,[(0,e._)("a",{href:"#",class:"link-secondary",onClick:(0,l.iM)((t=>N.DelWishList(i.title,s)),["prevent"])},w,8,g)])])))),128))])])]),(0,e._)("div",k,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(M.wishlist,((i,s)=>((0,e.wg)(),(0,e.iD)("div",{class:"row border-top border-bottom py-2 align-items-center",key:i.id},[(0,e._)("div",v,[(0,e._)("a",{href:"#",onClick:(0,l.iM)((t=>N.getProduct(i.id)),["prevent"])},[(0,e._)("img",{src:i.imageUrl,alt:i.title,class:"object-fit-cover w-100",height:"100"},null,8,f)],8,b)]),(0,e._)("div",m,[(0,e._)("h6",null,(0,c.zw)(i.title),1),(0,e._)("div",y,[(0,e._)("del",C,"NT$"+(0,c.zw)(t.$filters.currency(i.origin_price)),1),(0,e._)("div",null,"NT$"+(0,c.zw)(t.$filters.currency(i.price)),1)])]),(0,e._)("div",$,[(0,e._)("a",{href:"#",class:"link-danger",onClick:(0,l.iM)((t=>N.addCart(i,s)),["prevent"])},S,8,D)]),(0,e._)("div",z,[(0,e._)("a",{href:"#",class:"link-secondary",onClick:(0,l.iM)((t=>N.DelWishList(i.title,s)),["prevent"])},W,8,L)])])))),128))])])):((0,e.wg)(),(0,e.iD)("div",T,[x,(0,e._)("a",{href:"#",class:"btn btn-outline-warning btn-lg",onClick:i[0]||(i[0]=(0,l.iM)(((...t)=>N.goShopping&&N.goShopping(...t)),["prevent"]))},"購物去")]))}s(7658);var P={data(){return{wishlist:JSON.parse(localStorage.getItem("wishlist"))||[]}},inject:["$httpMessageState","reload","emitter","updateWishQty"],methods:{getProduct(t){this.$router.push(`/user/product/${t}`)},addCart(t,i){const s="https://vue3-course-api.hexschool.io/api/shoppingmall-api/cart";this.isLoading=!0;const e={product_id:t.id,qty:1};this.$http.post(s,{data:e}).then((s=>{this.DelWishList(t.title,i),this.isLoading=!1,this.reload(),setTimeout((()=>{this.$httpMessageState(s,"加入購物車")}))})).catch((t=>{this.$httpMessageState(t,"連線")}))},DelWishList(t,i){this.wishlist.splice(i,1),localStorage.setItem("wishlist",JSON.stringify(this.wishlist)),this.updateWishQty(this.wishlist.length),this.emitter.emit("push-message",{style:"danger",title:`${t}已刪除最愛商品`})},goShopping(){this.$router.push("/user/productlist")}}},U=s(89);const H=(0,U.Z)(P,[["render",j]]);var I=H}}]);
//# sourceMappingURL=155.71b6f2dd.js.map